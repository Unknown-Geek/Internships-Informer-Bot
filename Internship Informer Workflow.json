{
  "name": "Internship Informer",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        -16
      ],
      "id": "8e56389d-6b11-483d-b71c-54ed556e02e9",
      "name": "Telegram Trigger",
      "webhookId": "de03b2ad-85a1-463a-9a1a-6e3c307de84a",
      "credentials": {
        "telegramApi": {
          "id": "WFI82xzLQpYTaEkf",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"send_whatsapp\": true,\n  \"reason\": \"Internship matches eligibility and role criteria.\",\n  \"whatsapp_message\": \"ðŸ’¼ *Software Engineer Intern (2025â€“2027)*\\\\nCompany: Google\\\\nLocation: Bangalore\\\\nEligibility: 2027 graduates\\\\nApply here: https://careers.google.com/internships\"\n}",
        "autoFix": true
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1360,
        208
      ],
      "id": "8d36b2fe-cbd7-4382-8b40-8c9b1e26aa90",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        1440,
        416
      ],
      "id": "224f43ab-a61e-477a-892d-c84c7b2d3f89",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "HTfxXDcYzYtl6P96",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "7c4709a1-e1dd-4021-99f2-f636a049bedd",
              "leftValue": "={{ $json.output.send_whatsapp }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1728,
        -16
      ],
      "id": "c5d79de8-3d5c-443e-b15f-e4313f119127",
      "name": "If",
      "retryOnFail": true
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://140.245.29.28:3000/send",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "to",
              "value": "+919074691700"
            },
            {
              "name": "message",
              "value": "={{ $('Analyst Agent').item.json.output.whatsapp_message }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1952,
        -112
      ],
      "id": "a1f57bff-050b-4740-a280-208c38f6279c",
      "name": "HTTP Request",
      "retryOnFail": true,
      "waitBetweenTries": 3000
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "value": "55rodsRwEXTr1JQQ",
          "mode": "list",
          "cachedResultName": "Internship Alerts",
          "cachedResultUrl": "/projects/Hgru1mywRGFa4uLZ/datatables/55rodsRwEXTr1JQQ"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "title": "={{ $('JSON Format Fixer').item.json.role }}",
            "Eligibilty": "={{ $('JSON Format Fixer').item.json.eligibility }}",
            "Application_Link": "={{ $('JSON Format Fixer').item.json.apply_link }}",
            "Company_Name": "={{ $('JSON Format Fixer').item.json.company }}"
          },
          "matchingColumns": [
            "Internship"
          ],
          "schema": [
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Company_Name",
              "displayName": "Company_Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Eligibilty",
              "displayName": "Eligibilty",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Application_Link",
              "displayName": "Application_Link",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        2176,
        -16
      ],
      "id": "937a685e-08e3-474d-a988-5fba925b05a6",
      "name": "Insert row",
      "retryOnFail": true,
      "waitBetweenTries": 3000
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "ALWAYS use this tool first. Input the internship title or application URL found in the message. This tool checks if the internship has already been sent to WhatsApp to prevent duplicates. If this tool returns a match, do not process further.",
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "55rodsRwEXTr1JQQ",
          "mode": "list",
          "cachedResultName": "Internship Alerts",
          "cachedResultUrl": "/projects/Hgru1mywRGFa4uLZ/datatables/55rodsRwEXTr1JQQ"
        },
        "returnAll": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Return_All', ``, 'boolean') }}"
      },
      "type": "n8n-nodes-base.dataTableTool",
      "typeVersion": 1,
      "position": [
        1104,
        208
      ],
      "id": "f8dd709f-b8b0-465f-831c-165cc95d8092",
      "name": "check_database_for_duplicates"
    },
    {
      "parameters": {
        "toolDescription": "Use this tool ONLY if the message contains a URL but lacks specific details (like '2027 batch' or 'eligibility') OR to verify if an application is expired. It returns the text content of the webpage. Input must be a valid URL string starting with http/https.",
        "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        1232,
        208
      ],
      "id": "5646f81b-d3e5-499a-8ef7-d617ceb3a674",
      "name": "scrape_application_page"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        848,
        208
      ],
      "id": "bb41227f-2681-4ff4-8157-e116fe7d835a",
      "name": "Model",
      "credentials": {
        "googlePalmApi": {
          "id": "HTfxXDcYzYtl6P96",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "18BmB3kHAvYZ1FiGf4txjoX-ttpfIVpGvAmZI8giSAE0",
          "mode": "list",
          "cachedResultName": "InternshipSites",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18BmB3kHAvYZ1FiGf4txjoX-ttpfIVpGvAmZI8giSAE0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 181431973,
          "mode": "list",
          "cachedResultName": "False Classification",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18BmB3kHAvYZ1FiGf4txjoX-ttpfIVpGvAmZI8giSAE0/edit#gid=181431973"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Timestamp": "={{ $now }}",
            "Rejection Reason": "={{ $json.output.reason }}",
            "Application Link": "={{ $json.output.whatsapp_message }}",
            "Telegram Message": "={{ $('Telegram Trigger').item.json.message.text }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Timestamp",
              "displayName": "Timestamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Telegram Message",
              "displayName": "Telegram Message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Application Link",
              "displayName": "Application Link",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Rejection Reason",
              "displayName": "Rejection Reason",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1952,
        80
      ],
      "id": "d6d4b51e-1b68-4eb3-8203-b4ad60abf8bf",
      "name": "Append row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GaRlGklycSZWlijs",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "18BmB3kHAvYZ1FiGf4txjoX-ttpfIVpGvAmZI8giSAE0",
          "mode": "list",
          "cachedResultName": "InternshipSites",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18BmB3kHAvYZ1FiGf4txjoX-ttpfIVpGvAmZI8giSAE0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 607067211,
          "mode": "list",
          "cachedResultName": "True Classification",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/18BmB3kHAvYZ1FiGf4txjoX-ttpfIVpGvAmZI8giSAE0/edit#gid=607067211"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Timestamp": "={{ $now }}",
            "Telegram Message": "={{ $('JSON Format Fixer').item.json.role }}\n{{ $('JSON Format Fixer').item.json.company }}\n{{ $('JSON Format Fixer').item.json.description }}\n{{ $('JSON Format Fixer').item.json.apply_link }}",
            "Title": "={{ $('JSON Format Fixer').item.json.role }}",
            "Company Name": "={{ $('JSON Format Fixer').item.json.company }}",
            "Eligibility": "={{ $('JSON Format Fixer').item.json.eligibility }}",
            "Application Link": "={{ $('JSON Format Fixer').item.json.apply_link }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Timestamp",
              "displayName": "Timestamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Telegram Message",
              "displayName": "Telegram Message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Company Name",
              "displayName": "Company Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Eligibility",
              "displayName": "Eligibility",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Application Link",
              "displayName": "Application Link",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        2176,
        -208
      ],
      "id": "79fb5db8-7278-4734-b3a6-f9dcd8ccfeac",
      "name": "Append row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GaRlGklycSZWlijs",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash-lite",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash-lite"
        },
        "messages": {
          "values": [
            {
              "content": "=You are a data extraction parser. Your task is to extract specific details from the internship summary text below and return them as a strict JSON object.\n\n**Input Text**\n{{ $('If').item.json.output.whatsapp_message }}\n\n**Extraction Rules:**\n1. **Clean the Data:** Remove all emojis (like ðŸ’¼, ðŸ’¡) and Markdown symbols (like *) from the values.\n2. **Title:** Extract the role title (e.g., \"Software Engineer Intern\").\n3. **Company:** Extract the company name.\n4. **Eligibility:** Extract the batch/year requirement.\n5. **Link:** Extract the direct application URL.\n\n**Output Format:**\nReturn ONLY raw JSON. Do not use Markdown code blocks (no ```json).\n\n{\n  \"title\": \"Clean Title Here\",\n  \"company_name\": \"Clean Company Name Here\",\n  \"eligibility\": \"Clean Eligibility Here\",\n  \"link\": \"https://...\"\n}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        0,
        -448
      ],
      "id": "53e970e3-e83a-482d-8550-c496d751e618",
      "name": "Message a model",
      "credentials": {
        "googlePalmApi": {
          "id": "HTfxXDcYzYtl6P96",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Analyze the following internship opportunity and decide whether to send a WhatsApp notification.\n\n**Job Details:**\nTitle: {{ $json.role }}\nCompany: {{ $json.company }}\nStipend: {{ $json.stipend }}\nEligibility (from text): {{ $json.eligibility }}\nDescription: {{ $json.description }}\nLink: {{ $json.apply_link }}\n\n(Note: This data is pre-parsed. Use the Link provided above for duplicate checking and scraping.)\n\n**Scrape Fallback Rule:**\nIf the 'scrape_application_page' tool fails, returns an error (like 403/401), or gets empty text, **DO NOT REJECT** the internship. Instead, assume the eligibility is valid based on the original message content, but append \"âš ï¸ (Unverified Link)\" to the summary.\n\n**Formatting Rules:**\nKeep the message concise with just a short description, eligibility criteria (single line), and the application link. Add a blank line between the title, eligibility, and application link.\n\nUse the provided output parser to format your response.",
        "hasOutputParser": true,
        "needsFallback": true,
        "options": {
          "systemMessage": "You are an advanced AI Internship Analyst. Your goal is to filter internship opportunities for a WhatsApp notification service.\n\n**TARGET CANDIDATE PROFILE (CRITICAL CONTEXT):**\n- **Graduation Date:** June 2027.\n- **Current Status:** Pre-final / Penultimate year student.\n- **Eligibility Logic:** Since the candidate graduates in June 2027, they **AUTOMATICALLY SATISFY** requirements such as:\n  - \"Must have at least 1 semester/term remaining following the internship.\"\n  - \"Must be returning to a full-time degree program.\"\n  - \"Current 3rd year student.\"\n\n**YOUR TOOLS:**\n1. `check_database_for_duplicates`: ALWAYS use this first. Returns a list of past internships.\n2. `scrape_application_page`: Use this if the message is vague, lacks batch details, or you suspect the link is expired.\n\n**EXECUTION PROTOCOL (Follow Step-by-Step):**\n\nSTEP 1: DUPLICATE CHECK (CRITICAL)\n- Extract the `Application Link` and `Job Title` from the incoming message.\n- Call `check_database_for_duplicates`.\n- **Comparison Logic:**\n  - **Link Check:** Compare new link vs `Application_Link` column. Ignore `https://`, `www.`, and query parameters.\n  - **Title Check:** Compare new title vs `title` column (case-insensitive).\n- **Decision:** If a match is found -> STOP. Return `send_whatsapp: false` with reason \"Duplicate found\".\n\nSTEP 2: ELIGIBILITY & BATCH CHECK (Smart Reasoning)\n- **Role Match:** Software Engineer/Dev, Data Engineer, UI/UX, Web/Product Design.\n- **Batch Match:**\n  - **Explicit Terms:** \"2027\", \"Batch of 27\", \"Class of 2027\".\n  - **Semantic Synonyms (VALID for June 2027 Grads):**\n    - \"Penultimate year students\"\n    - \"Passing out in 2027\"\n    - \"Current 3rd year pursuing B.Tech\"\n    - **\"Must have at least 1 semester/term remaining following the completion of the internship\"** (VALID: As a June 2027 grad, this applies to you for any internship ending before Jan 2027).\n    - \"Returning to full-time degree program after internship\".\n- **Type:** Internship only (No hackathons/workshops).\n\nSTEP 3: DEEP DIVE (Scraping)\n- **Trigger `scrape_application_page` ONLY IF:**\n  - The message has a URL but NO mention of eligibility/batch.\n  - The message is short/ambiguous.\n  - You need to verify if the \"Apply\" button is still active.\n- **Action:** Scrape the URL, then read the page content to find the \"Batch Match\" keywords above.\n\nSTEP 4: FINAL OUTPUT & DATA EXTRACTION\n- Use the Structured Output Parser schema.\n- **If Valid (`send_whatsapp: true`):**\n  - `whatsapp_message`: Create a clean summary with Title, Company, Eligibility, and Link.\n  - `db_data`: **EXTRACT CLEAN DATA** for the database.\n    - `title`: Job Role (No emojis).\n    - `company`: Company Name.\n    - `eligibility`: The batch/year text found.\n    - `link`: The direct application URL only. Don't attach any additional text to the link\n- **If Invalid (`send_whatsapp: false`):**\n  - `reason`: State why (e.g., \"Duplicate\", \"2024 only\").\n  - `whatsapp_message`: **MUST** contain the `Application URL` (for the rejection log).\n  - `db_data`: Leave fields empty or null.\n\n**IMPORTANT:** If `scrape_application_page` fails (error/empty), decide based ONLY on the original message. Do not invent details."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1008,
        -16
      ],
      "id": "25c7f71d-5fff-4de2-90dc-f67b12932e37",
      "name": "Analyst Agent",
      "retryOnFail": true,
      "waitBetweenTries": 3000
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.message.text }}",
        "hasOutputParser": true,
        "needsFallback": true,
        "options": {
          "systemMessage": "You are a precision Data Extraction Engine.\nYour task is to analyze the input text and convert it into a structured JSON Array.\n\n**SCENARIO HANDLING:**\n1. **Multiple Internships:** If the text lists multiple jobs (separated by emojis ðŸ“Œ, ðŸ””, numbered lists, or distinct blocks), extract each as a separate object.\n2. **Single Internship:** If the text describes only one job, extract it as a single object inside the list.\n\n**EXTRACTION FIELDS (For each job):**\n- \"role\": Job Title (e.g., \"Software Engineer Intern\").\n- \"company\": Company Name.\n- \"stipend\": Salary/Stipend (e.g., \"20k/month\"). Use \"Not specified\" if missing.\n- \"eligibility\": Specific batch/year (e.g., \"2027 batch\") or degree requirements. Use \"Not specified\" if missing.\n- \"description\": A brief summary of requirements or the raw text snippet for this job.\n- \"apply_link\": The direct application URL.\n\n**OUTPUT FORMAT:**\n- Return ONLY the raw JSON Array `[ ... ]`.\n- Do NOT use Markdown code blocks (no ```json).\n- Do NOT add conversational text.\n\n**JSON STRUCTURE:**\n[\n  {\n    \"role\": \"extracted title\",\n    \"company\": \"extracted company\",\n    \"stipend\": \"extracted stipend\",\n    \"eligibility\": \"extracted eligibility\",\n    \"description\": \"extracted description\",\n    \"apply_link\": \"extracted link\"\n  }\n]"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        224,
        -16
      ],
      "id": "15159ebd-8804-45b7-ab2b-82edd9b9e7b2",
      "name": "Splitter Agent"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        256,
        208
      ],
      "id": "05096672-3f94-48ec-a19c-26967c6b4b5f",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "HTfxXDcYzYtl6P96",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. Get the raw output from the AI model\n// Adjust 'output' if your node names the field differently (e.g., 'text' or 'content')\nconst rawContent = $input.first().json.output || \"\";\n\n// 2. Clean the string: Remove Markdown code blocks (```json ... ```)\n// This regex removes the start and end code fences\nconst cleanJson = rawContent.replace(/^```json\\s*/i, \"\").replace(/\\s*```$/, \"\");\n\n// 3. Parse the string into a real JavaScript Array\nlet jobsArray = [];\ntry {\n  jobsArray = JSON.parse(cleanJson);\n} catch (error) {\n  // Fallback: If parsing fails, try to return an empty array or log error\n  console.log(\"JSON Parse Error:\", error);\n  jobsArray = [];\n}\n\n// 4. Return separate items for n8n to process\n// This automatically \"splits\" the array so the next node runs 3 times (once for each job)\nreturn jobsArray.map(job => {\n  return {\n    json: job\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        624,
        -16
      ],
      "id": "bc2865fb-c6d3-4001-a158-1a767cf83aba",
      "name": "JSON Format Fixer"
    },
    {
      "parameters": {
        "jsCode": "// 1. Get the raw text string from the Gemini output\n// We try two common paths because Gemini node versions vary\nconst rawResponse = $input.item.json.content?.parts?.[0]?.text || \n                    $input.item.json.output || \n                    \"{}\";\n\n// 2. Clean up the text (Remove ```json and ``` if the AI added them)\nconst cleanJson = rawResponse.replace(/```json/g, '').replace(/```/g, '').trim();\n\n// 3. Parse the string into a real JSON object\nlet parsedData = {};\ntry {\n  parsedData = JSON.parse(cleanJson);\n} catch (error) {\n  // If parsing fails, return empty fields to prevent workflow crash\n  parsedData = {}; \n}\n\n// 4. Return the data as mappable fields\nreturn {\n  json: {\n    title: parsedData.title || \"Unknown Title\",\n    company_name: parsedData.company_name || parsedData.company || \"Unknown Company\",\n    eligibility: parsedData.eligibility || parsedData.eligibilty || \"Check Link\",\n    link: parsedData.link || \"\"\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        352,
        -448
      ],
      "id": "6503ca0e-39d1-49f4-803f-52adca96c96b",
      "name": "JSON Builder"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        976,
        208
      ],
      "id": "7aa1da3f-4097-4ea1-a104-f832e4b6a21f",
      "name": "Google Gemini Chat Model2",
      "credentials": {
        "googlePalmApi": {
          "id": "HTfxXDcYzYtl6P96",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        384,
        208
      ],
      "id": "ce42e7b6-4543-4397-940a-6e9cc4a1b78a",
      "name": "Google Gemini Chat Model3",
      "credentials": {
        "googlePalmApi": {
          "id": "HTfxXDcYzYtl6P96",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Splitter Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Analyst Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Structured Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Insert row": {
      "main": [
        []
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Append row in sheet1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Insert row",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check_database_for_duplicates": {
      "ai_tool": [
        [
          {
            "node": "Analyst Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "scrape_application_page": {
      "ai_tool": [
        [
          {
            "node": "Analyst Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Model": {
      "ai_languageModel": [
        [
          {
            "node": "Analyst Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Message a model": {
      "main": [
        [
          {
            "node": "JSON Builder",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyst Agent": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Splitter Agent": {
      "main": [
        [
          {
            "node": "JSON Format Fixer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Splitter Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "JSON Format Fixer": {
      "main": [
        [
          {
            "node": "Analyst Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JSON Builder": {
      "main": [
        []
      ]
    },
    "Google Gemini Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Analyst Agent",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Google Gemini Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Splitter Agent",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "7ebf979c-ea26-48f7-a3a5-0c4cdb5c2165",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "5fac5b1719891cb8d657f44077a1546aebe37dfd5c15725b7f8ea81ed84ca9c4"
  },
  "id": "wb4HlPVaCGcuIknJ",
  "tags": []
}